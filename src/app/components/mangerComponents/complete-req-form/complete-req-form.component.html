<app-req-details></app-req-details>
<!-- <ng-container> -->
<div class="container m-auto lg:px-5 ">

    <div class="">
        <div class="lg:p-4 p-0 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700 ">
            <div class="mt-8 flex justify-center ">
                <form [formGroup]="reqForm" class="form border border-teal-600 rounded sm:w-full md:w-full bg-white ">
                    <div class="p-3 bg-teal-500 text-center">
                        <h1>Complete Price Offer Request</h1>
                    </div>
                    <div class="p-5">
                        <div class=" grid  grid-cols-1 " dir="ltr">
                            <div class="col-span-1  p-0  m-2">
                                <div class="flex justify-start">
                                    <img class="w-8 m-1" src="assets/settings_627495.png">
                                    <h2 class="">Maintenance And Updates </h2>(<span
                                        class="text-red-500">Optional</span>)
                                </div>
                                <div>
                                    <div formArrayName="Maintenance" dir="rtl"
                                        class="col-span-1  p-0  m-2 border border-gray-400">
                                        <div class=" " *ngFor="let mob of mentaiance.controls;let j=index"
                                            [formGroupName]="j">
                                            <div class="p-1 bg-gray-100 flex justify-between">
                                                <h2><i class="pi pi-book"></i>
                                                    {{Request?.PriceOffer.Services[j].Service?.Name}}
                                                </h2>


                                            </div>
                                            <div>
                                                <div>
                                                    <ul class="">
                                                        <li class="flex items-center"
                                                            *ngFor="let item of mentainanceDescription">
                                                            <svg class="w-3.5 h-3.5 mr-2 text-green-500 dark:text-green-400 flex-shrink-0 mx-2"
                                                                aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                                fill="currentColor" viewBox="0 0 20 20">
                                                                <path
                                                                    d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                                                            </svg>
                                                            {{item}}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2"
                                                    formGroupName="maintainanceData">
                                                    <!-- <span class=" m-3 col-span-1">

                                                        <div formArrayName="description">
                                                            <div class="flex items-center py-2"
                                                                *ngFor="let des of getDescriptions(j)?.controls;let i=index">

                                                                <span class="p-float-label w-full ">
                                                                    <input class="w-full " pInputText
                                                                        name="details{{i+1}}" id="details{{i+1}}"
                                                                        [formControlName]="i" />
                                                                    <label htmlFor="details">Add description</label>
                                                                </span><i (click)="removeDescription(j,i)"
                                                                    class="pi pi-trash text-red-500 mx-1"></i>

                                                            </div>
                                                        </div>
                                                        <div class="flex justify-center m-3">
                                                            <button (click)="addDescription(j)"
                                                                class="flex-shrink-0  w-full  bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded"
                                                                type="button">
                                                                + Add More description
                                                            </button>
                                                        </div>
                                                    </span> -->
                                                    <span class=" m-3 col-span-1 py-2">
                                                        <input id="float-input" type="number" class="w-full"
                                                            formControlName="price"
                                                            placeholder="Add Maintenance and Updates price ">
                                                    </span>

                                                </div>
                                                <input type="hidden" formControlName="serviceId">

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2" dir="rtl">
                                    <div class="mb-6 grid-cols-1 ">
                                        <label for="large-input"
                                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white m-3">
                                            المبلغ المستحق قبل
                                            التركيب<span class="text-red-500">*</span>
                                        </label>
                                        <input type="number" id="large-input" placeholder="0.000.00 EGP"
                                            formControlName="InitialAmountOfMoney" class="w-full m-3">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- {{reqForm.invalid | json}}
                        {{reqForm.value | json}} -->

                        <div class="flex justify-center">
                            <button [disabled]="reqForm.invalid" (click)="sendRequest()"
                                class="mt-3 px-8 flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded"
                                type="button">
                                <span class="spinner-border spinner-border-sm mr-1"></span>

                                Sent Request
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>